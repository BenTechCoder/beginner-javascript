<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <title>
      kopjihb,c v
    </title>
    <link rel="stylesheet" href="../../base.css" />
  </head>

  <body>
    <script>
      const toppings = [
        "Mushrooms ",
        "Tomatoes",
        "Eggs",
        "Chili",
        "Lettuce",
        "Avocado",
        "Chiles",
        "Bacon",
        "Pickles",
        "Onions",
        "Cheese",
      ];

      const students = [
        {
          id: "11ce",
          first_name: "Dall",
          last_name: "Puckring",
        },
        {
          id: "2958",
          first_name: "Margarete",
          last_name: "Brandi",
        },
        {
          id: "565a",
          first_name: "Bendicty",
          last_name: "Woodage",
        },
        {
          id: "3a16",
          first_name: "Micki",
          last_name: "Mattes",
        },
        {
          id: "f396",
          first_name: "Flory",
          last_name: "Gladeche",
        },
        {
          id: "de5f",
          first_name: "Jamill",
          last_name: "Emilien",
        },
        {
          id: "54cb",
          first_name: "Brett",
          last_name: "Aizikowitz",
        },
        {
          id: "9135",
          first_name: "Lorry",
          last_name: "Smallman",
        },
        {
          id: "978f",
          first_name: "Gilly",
          last_name: "Flott",
        },
      ];

      const people = [
        {
          birthday: "April 22, 1993",
          names: {
            first: "Keith",
            last: "Buckley",
          },
        },
        {
          birthday: "January 3, 1975",
          names: {
            first: "Larry",
            last: "Heep",
          },
        },
        {
          birthday: "February 12, 1944",
          names: {
            first: "Linda",
            last: "Bermeer",
          },
        },
      ];

      const buns = ["egg", "wonder", "brioche"];

      const meats = {
        beyond: 10,
        beef: 5,
        pork: 7,
      };

      const prices = {
        hotDog: 453,
        burger: 765,
        sausage: 634,
        corn: 234,
      };

      const orderTotals = [342, 1002, 523, 34, 634, 854, 1644, 2222];

      const feedback = [
        { comment: "Love the burgs", rating: 4 },
        { comment: "Horrible Service", rating: 2 },
        { comment: "Smoothies are great, liked the burger too", rating: 5 },
        { comment: "Ambiance needs work", rating: 3 },
        { comment: "I DONT LIKE BURGERS", rating: 1 },
      ];

      const faces = ["😃", "🤠", "🤡", "🤑", "😵", "🌞", "🐶", "😺"];

      const inventory = [
        { type: "shirt", price: 4000 },
        { type: "pants", price: 4532 },
        { type: "socks", price: 234 },
        { type: "shirt", price: 2343 },
        { type: "pants", price: 2343 },
        { type: "socks", price: 542 },
        { type: "pants", price: 123 },
      ];

      /*
      Looping Methods
    */

      function log(item, index, array) {
        console.log(item);
        let nextTopping = array[index + 1];
        let prevTopping = array[index - 1];
        prevTopping ? console.log(prevTopping) : null;
        nextTopping ? console.log(nextTopping) : null;
        index === array.length - 1 ? console.log("GOODBY") : null;
        // if(nextTopping){
        //   console.log(nextTopping)
        // }
      }

      toppings.forEach(log);

      // Map, filter, reduce
      console.clear();

      function addArms(face) {
        return `arm ${face} arm`;
      }

      const toys = faces.map(addArms);
      console.log(toys);
      let firstnames = ["ben", "blue"];
      let capatilize = (word) => ` ${word[0].toUpperCase()}${word.slice(1)}`;
      let lebronInator = (name) => `${name} Lebron`;
      const fullNames = firstnames.map(capatilize).map(lebronInator);
      console.log(fullNames);

      const ordersWithTax = orderTotals.map((total) => total * 1.13);

      /*
 const people = [
        {
          birthday: "April 22, 1993",
          names: {
            first: "Keith",
            last: "Buckley",
          },
        },
        {
          birthday: "January 3, 1975",
          names: {
            first: "Larry",
            last: "Heep",
          },
        },
        {
          birthday: "February 12, 1944",
          names: {
            first: "Linda",
            last: "Bermeer",
          },
        },
      ];
*/

      const cleanPeople = people.map((person) => {
        const date = new Date(person.birthday).getTime();
        console.log(date);
        const now = Date.now();
        const age = Math.floor((now - date) / 31536000000);

        return {
          age,
          name: `${person.names.first} ${person.names.last}`,
        };
      });
console.clear()
console.table(cleanPeople)
const over40 = cleanPeople.filter(person => {
 return (person.age > 40) ? true : false; 
});
console.table(over40)

function searchForStudentById(studentID) {
return function isStudent(student) {
  return student.id === studentID;
}
}

function findByProp(prop, propID) {
  return function isStudent(student) {
    return student[prop] === propID; 
  }
}

const student565a = students.find(findByProp('first_name', 'Micki'))
//const student565a = searchForStudentById('565a')
console.log(student565a)

 console.clear()

function tallyNums(tally, total) {
  // console.log(`total tally is ${tally}`)
  // console.log(`total total is ${total}`)
  // console.log('------------------------------')
  return tally + total;
}

const allOrders = orderTotals.reduce(tallyNums, 0)
console.log(allOrders)

function inventoryReducer(totals, item) {
  console.log(`Looping over ${item.type}`)
   totals[item.type] = totals[item.type] + 1 || 1;
   return totals;
}

const inventoryCounts = inventory.reduce(inventoryReducer, {})
console.log(inventoryCounts)

const totalInventoryPrice = inventory.reduce((acc, item) =>
  acc + item.price, 0)

console.log(totalInventoryPrice)

    </script>
  </body>
</html>
